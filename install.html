<!DOCTYPE html>
<html>
<head>
	<title>Installation Guide | Donkey Kong 64 Practice ROM</title>
	<link rel="stylesheet" href="./Site/style/nav.css">
	<link rel="stylesheet" href="./Site/style/main.css">
	<link rel="stylesheet" href="./Site/style/home.css">
	<link rel="stylesheet" href="./Site/style/maps.css">
	<link rel="stylesheet" href="./Site/style/mj.css">
	<link rel="stylesheet" href="./Site/style/tree.css">
	<link rel="stylesheet" href="./Site/style/n64buttons.css">
	<link rel="stylesheet" href="./Site/style/manual.css">
	<link rel="apple-touch-icon" sizes="57x57" href="./apple-icon-57x57.png">
	<link rel="apple-touch-icon" sizes="60x60" href="./apple-icon-60x60.png">
	<link rel="apple-touch-icon" sizes="72x72" href="./apple-icon-72x72.png">
	<link rel="apple-touch-icon" sizes="76x76" href="./apple-icon-76x76.png">
	<link rel="apple-touch-icon" sizes="114x114" href="./apple-icon-114x114.png">
	<link rel="apple-touch-icon" sizes="120x120" href="./apple-icon-120x120.png">
	<link rel="apple-touch-icon" sizes="144x144" href="./apple-icon-144x144.png">
	<link rel="apple-touch-icon" sizes="152x152" href="./apple-icon-152x152.png">
	<link rel="apple-touch-icon" sizes="180x180" href="./apple-icon-180x180.png">
	<link rel="icon" type="image/png" sizes="192x192"  href="./android-icon-192x192.png">
	<link rel="icon" type="image/png" sizes="32x32" href="./favicon-32x32.png">
	<link rel="icon" type="image/png" sizes="96x96" href="./favicon-96x96.png">
	<link rel="icon" type="image/png" sizes="16x16" href="./favicon-16x16.png">
	<link rel="manifest" href="./manifest.json">
	<meta name="msapplication-TileColor" content="#ffffff">
	<meta name="msapplication-TileImage" content="./ms-icon-144x144.png">
	<meta name="theme-color" content="#ffffff">
	<meta name="description" content="" />
	<style type="text/css">
		.homebox {
			transition: 0.5s ease-in-out;
			cursor: default;
		}
		.homebox.clickable:hover {
			border-color:red;
		}
		.hide {
			display: none;
		}
		download-buttons {
			display: block;
			padding: 10px;
		}
		download-buttons .isdownload::before {
			content: "\203A";
			cursor: pointer;
			user-select: none;
			color: darkgoldenrod;
			display: inline-block;
		}
		.changelog {
			list-style-type: none;
			margin:0;
			padding:0;
			padding-left: 10px;
		}
		.link_button {
			width:fit-content;
			width:-moz-fit-content;
			padding:5px;
			padding-bottom: 2px;
			display:none;
		}
		.treebox .treebox_body table tr td:first-of-type {
			width: 25%;
		}
		.tab {
			overflow: hidden;
			margin-bottom: 5px;
			border-bottom: 1px solid gainsboro
		}
		.tab button {
			background-color: inherit;
			float: left;
			border: 1px solid gainsboro;
			outline: none;
			cursor: pointer;
			padding: 5px;
			transition: 0.3s;
			width: fit-content;
			width: -o-fit-content;
			width: -moz-fit-content;
			width: -webkit-fit-content;
			border-radius: 0px;
			border-top-left-radius: 5px;
			border-top-right-radius: 5px;
			color: gainsboro;
		}
		.tab button:hover {
			background-color: #ddd;
			color: #1d2936;
		}
		.tab button.active {
			background-color: #ccc;
			color: #1d2936;
		}
		.tabcontent {
			display: none;
		}
	</style>
</head>
<body>
	<nav id="navigation"></nav>
	<div class="flexsplitter max">
		<div class="leftbox" style="flex:20%">
			<div class="v_spacer"></div>
			<ul class="tree">
				<li>
					<span class="caret">N64</span>
					<ul class="nested">
						<li><a class="excluded_link hovergold" onclick="treeshow('req_n64')">Pre-requisites</a></li>
						<li>
							<span class="caret">Patching</span>
							<ul class="nested">
								<li><a class="excluded_link hovergold" onclick="treeshow('patch_beat')">Beat</a></li>
								<li><a class="excluded_link hovergold" onclick="treeshow('patch_web')">Web Patcher</a></li>
								<li><a class="excluded_link hovergold" onclick="treeshow('patch_lunar')">Lunar IPS</a></li>
							</ul>
						</li>
						<li><a class="excluded_link hovergold isversion" onclick="treeshow('ts_n64')">Troubleshooting</a></li>
					</ul>
				</li>
				<li>
					<span class="caret">Wii U Virtual Console</span>
					<ul class="nested">
						<li><a class="excluded_link hovergold" onclick="treeshow('req_wiiu')">Pre-requisites</a></li>
						<li>
							<span class="caret">Patching</span>
							<ul class="nested">
								<li><a class="excluded_link hovergold" onclick="treeshow('patch_beat')">Beat</a></li>
								<li><a class="excluded_link hovergold" onclick="treeshow('patch_web')">Web Patcher</a></li>
								<li><a class="excluded_link hovergold" onclick="treeshow('patch_lunar')">Lunar IPS</a></li>
							</ul>
						</li>
						<li><a class="excluded_link hovergold isversion" onclick="treeshow('wii_inject')">Injection Process</a></li>
						<li><a class="excluded_link hovergold isversion" onclick="treeshow('ts_wiiu')">Troubleshooting</a></li>
					</ul>
				</li>
				<li>
					<span class="caret">Emulator</span>
					<ul class="nested">
						<li><a class="excluded_link hovergold" onclick="treeshow('req_emu')">Pre-requisites</a></li>
						<li>
							<span class="caret">Patching</span>
							<ul class="nested">
								<li><a class="excluded_link hovergold" onclick="treeshow('patch_beat')">Beat</a></li>
								<li><a class="excluded_link hovergold" onclick="treeshow('patch_web')">Web Patcher</a></li>
								<li><a class="excluded_link hovergold" onclick="treeshow('patch_lunar')">Lunar IPS</a></li>
							</ul>
						</li>
						<li><a class="excluded_link hovergold isversion" onclick="treeshow('ts_emu')">Troubleshooting</a></li>
					</ul>
				</li>
				<li><a class="excluded_link hovergold isversion" onclick="treeshow('support')">Support</a></li>
			</ul>
		</div>
		<div class="rightbox" style="flex:80%">
			<div class="v_spacer"></div>
			<div class="treebox hide" tree-id="req_n64">
				<div class="flexsplitter">
					<div style="flex:50%">
						<h2 class="treebox_head">N64 Requirements</h2>
					</div>
					<div style="flex:50%;text-align: right;">
						<link-button>
							<button class="link_button" onmouseover="toggleImage(this,true)" onmouseleave="toggleImage(this,false)">
								<img src="./Site/assets/link.png" height="20px">
							</button>
						</link-button>
					</div>
				</div>
				<div class="treebox_body">
					<ul>
						<li><strong>N64 Everdrive: </strong>If you would like to play this on Nintendo 64, you will need to purchase an Everdrive. The Everdrive purchased needs to be version 2.5 or higher.</li>
						<ul>
							<li><a class="excluded_link hovergold underline" href="https://everdrive.me">Everdrive Shop</a>: <a class="excluded_link hovergold underline" href="https://twitter.com/EverdriveM/status/1496849325204381701">Currently Unavailable</a></li>
						</ul>
						<br>
						<li><strong>Donkey Kong 64 ROM: </strong><span class="rom_possess"></span></li>
						<ul>
							<li>The ROM will need to have the .z64 file format. The .n64 and .v64 file formats will not work</li>
							<li>We <strong>cannot</strong> provide this for you. You will need to source this yourself.</li>
							<li class="rom_hash_pre"></li>
							<ul class="rom_hash_list"></ul>
							<li class="rom_hash_post"></li>
						</ul>
					</ul>
				</div>
			</div>
			<div class="treebox hide" tree-id="req_wiiu">
				<div class="flexsplitter">
					<div style="flex:50%">
						<h2 class="treebox_head">Wii U Requirements</h2>
					</div>
					<div style="flex:50%;text-align: right;">
						<link-button>
							<button class="link_button" onmouseover="toggleImage(this,true)" onmouseleave="toggleImage(this,false)">
								<img src="./Site/assets/link.png" height="20px">
							</button>
						</link-button>
					</div>
				</div>
				<div class="treebox_body">
					<ul>
						<li><strong>Homebrewed Wii U: </strong>If you would like to play this on Wii U, your Wii U will need to be homebrewed to enable custom software to be booted on it. Tutorials on performing the homebrew process can be found here:</li>
						<ul>
							<li><a class="excluded_link hovergold underline" href="https://www.youtube.com/watch?v=LW5QVxAlDoY&ab_channel=JackSorrell">Tutorial 1</a></li>
							<li><a class="excluded_link hovergold underline" href="https://www.youtube.com/watch?v=3-qnzaxL7Bg">Tutorial 2</a></li>
						</ul>
						<br>
						<li><strong>Donkey Kong 64 ROM: </strong><span class="rom_possess"></span></li>
						<ul>
							<li>The ROM will need to have the .z64 file format. The .n64 and .v64 file formats will not work</li>
							<li>We <strong>cannot</strong> provide this for you. You will need to source this yourself.</li>
							<li class="rom_hash_pre"></li>
							<ul class="rom_hash_list"></ul>
							<li class="rom_hash_post"></li>
						</ul>
					</ul>
				</div>
			</div>
			<div class="treebox hide" tree-id="req_emu">
				<div class="flexsplitter">
					<div style="flex:50%">
						<h2 class="treebox_head">Emulator Requirements</h2>
					</div>
					<div style="flex:50%;text-align: right;">
						<link-button>
							<button class="link_button" onmouseover="toggleImage(this,true)" onmouseleave="toggleImage(this,false)">
								<img src="./Site/assets/link.png" height="20px">
							</button>
						</link-button>
					</div>
				</div>
				<div class="treebox_body">
					<div class="warning">The Donkey Kong 64 speedrun.com leaderboards do not currently allow emulator submissions.</div>
					<ul>
						<li>
							<strong>An N64 Emulator: </strong>
							If you wish to play this on an emulator, there are a couple emulators that you can use:
							<ul>
								<br>
								<li>BizHawk - DK64 Edition: <a class="excluded_link hovergold underline" href="https://github.com/theballaam96/BizHawk-dk64Edition/releases/tag/DK64-1.0">Link</a></li>
								<ul>
									<li>This is a special build of the TASVideos BizHawk emulator that fixes some key DK64 emulation bugs for ROMs that are not the 4 vanilla DK64 ROMs</li>
									<li>Whilst PC-intensive, this emulator is miles ahead of any other emulator right now in terms of accuracy</li>
								</ul>
								<br>
								<li>Project 64 3.0: <a class="excluded_link hovergold underline" href="https://www.pj64-emu.com/public-releases">Link</a></li>
								<ul>
									<li>In order for the Practice ROM to behave correctly on Project64, you will need to tweak a few settings</li>
									<ol>
										<li>Go to Options&rarr;Settings to access the settings menu.</li>
										<li><strong>Uncheck</strong> "Pause emulation when window is not active" and <strong>uncheck</strong> "Hide advanced settings".</li>
										<li>Click "Advanced". Change the "VI refresh rate" value to 1488.</li>
										<li>Click "Plugins". Ensure "GlideN64" is the selected video plugin</li>
										<li>Click "Config: DONKEY KONG 64". Change "Default save type" to <strong>16-kbit EEPROM</strong>. <strong>Uncheck</strong> 32-bit engine</li>
										<li>Click "Recompiler". <strong>Uncheck</strong> "Advanced block linking".</li>
									</ol>
									<li>Project64 has the benefit of not being PC intensive at all. However, it suffers when it comes to inaccuracies and the settings listed above are patch-work at best</li>
								</ul>
							</ul>
						</li>
						<br>
						<li><strong>Donkey Kong 64 ROM: </strong><span class="rom_possess"></span></li>
						<ul>
							<li>The ROM will need to have the .z64 file format. The .n64 and .v64 file formats will not work</li>
							<li>We <strong>cannot</strong> provide this for you. You will need to source this yourself.</li>
							<li class="rom_hash_pre"></li>
							<ul class="rom_hash_list"></ul>
							<li class="rom_hash_post"></li>
						</ul>
					</ul>
				</div>
			</div>
			<div class="treebox hide" tree-id="patch_beat">
				<div class="flexsplitter">
					<div style="flex:50%">
						<h2 class="treebox_head">Patching: Beat</h2>
					</div>
					<div style="flex:50%;text-align: right;">
						<link-button>
							<button class="link_button" onmouseover="toggleImage(this,true)" onmouseleave="toggleImage(this,false)">
								<img src="./Site/assets/link.png" height="20px">
							</button>
						</link-button>
					</div>
				</div>
				<div class="treebox_body">
					<a class="excluded_link hovergold underline" href="https://www.romhacking.net/utilities/893/">Download Beat</a>
					<br><br>
					To convert your vanilla DK64 ROM to a Practice ROM with Beat, you will need to perform the following steps:
					<ol>
						<li>Select <em>"Apply Patch"</em></li>
						<li>Select the .bps file as the patch file</li>
						<li>Select the vanilla DK64 .z64 ROM as the original file</li>
						<li>Enter a file save location for your Practice ROM .z64 file</li>
						<li>Click <em>"Apply"</em></li>
					</ol>
				</div>
			</div>
			<div class="treebox hide" tree-id="patch_web">
				<div class="flexsplitter">
					<div style="flex:50%">
						<h2 class="treebox_head">Patching: Patcharobi</h2>
					</div>
					<div style="flex:50%;text-align: right;">
						<link-button>
							<button class="link_button" onmouseover="toggleImage(this,true)" onmouseleave="toggleImage(this,false)">
								<img src="./Site/assets/link.png" height="20px">
							</button>
						</link-button>
					</div>
				</div>
				<div class="treebox_body">
					<a class="excluded_link hovergold underline" href="https://patch.wedarobi.com/dk_practice_rom">Visit Patcharobi</a>
					<br><br>
					To convert your vanilla DK64 ROM to a Practice ROM with Patcharobi, you will need to perform the following steps:
					<ol>
						<li>Drag your .z64 DK64 ROM onto the web patcher</li>
						<li>Select the version of the Practice ROM you wish to download</li>
						<li>Click the green bar at the bottom to download your patched .z64 file</li>
					</ol>
				</div>
			</div>
			<div class="treebox hide" tree-id="patch_lunar">
				<div class="flexsplitter">
					<div style="flex:50%">
						<h2 class="treebox_head">Patching: Lunar IPS</h2>
					</div>
					<div style="flex:50%;text-align: right;">
						<link-button>
							<button style="" class="link_button" onmouseover="toggleImage(this,true)" onmouseleave="toggleImage(this,false)">
								<img src="./Site/assets/link.png" height="20px">
							</button>
						</link-button>
					</div>
				</div>
				<div class="treebox_body">
					<span class="warning">Lunar IPS is not supported v1.3+ and will likely produce a non-functioning Practice ROM if attempted on a v1.3+ patch</span><br><br>
					<a class="excluded_link hovergold underline" href="https://www.romhacking.net/utilities/240/">Download Lunar IPS</a>
					<br><br>
					To convert your vanilla DK64 ROM to a Practice ROM with Lunar IPS, you will need to perform the following steps:
					<ol>
						<li>Select <em>"Apply IPS Patch"</em></li>
						<li>Select the .ips file as the patch file</li>
						<li>Select the vanilla DK64 .z64 ROM as the original file</li>
						<li>Enter a file save location for your Practice ROM .z64 file</li>
					</ol>
				</div>
			</div>
			<div class="treebox hide" tree-id="wii_inject">
				<div class="flexsplitter">
					<div style="flex:50%">
						<h2 class="treebox_head">Injecting the Practice ROM to Wii U</h2>
					</div>
					<div style="flex:50%;text-align: right;">
						<link-button>
							<button class="link_button" onmouseover="toggleImage(this,true)" onmouseleave="toggleImage(this,false)">
								<img src="./Site/assets/link.png" height="20px">
							</button>
						</link-button>
					</div>
				</div>
				<div class="treebox_body">
					<a class="excluded_link hovergold underline" href="https://gbatemp.net/threads/release-phacoxs-injector-nes-snes-n64-gba-nds-for-wii-u.554521/">Download PhacoxsInjector</a><br>
					<a class="excluded_link hovergold underline" href="https://cheapergamer.co.uk/wii-u-usb-helper-guide/">How to get the DK64 Base Guide</a></li><br>
					<a class="excluded_link hovergold underline" href="http://phacoxcll.blogspot.com/2019/09/archivos-ini-de-la-consola-virtual-de.html">Download the DK64 Config File</a><br>

					<br>
					To convert your patched Practice ROM to a Wii U inject, you will need to perform the following steps:
					<ol>
						<li>Homebrew your Nintendo Wii U. Tutorials for how to do so can be found <a class="excluded_link hovergold underline" href="https://www.youtube.com/watch?v=LW5QVxAlDoY">here</a> and <a class="excluded_link hovergold underline" href="https://www.youtube.com/watch?v=3-qnzaxL7Bg">here</a></li>
						<li>Open PhacoxsInjector</li>
						<li>Click "Choose" and select your modified ROM that has been converted with any of the above methods</li>
						<li>Add the Wii U "Common Key" on the settings tab, which can be found with a Google search</li>
						<li>Click "Load Base" and select the DK64 Base</li>
						<li>Go to Config file and select the .ini file</li>
						<li>Go to injecting and select "Do pack" to start the injection</li>
						<li>Select the install folder on your FAT32 SD Card. Your SD card will also need the following folders correctly set up:</li>
						<ul>
							<li>apps</li>
							<li>hax chi</li>
							<li>Nintendo</li>
							<li>saves</li>
							<li>wiiu</li>
						</ul>
						<li>Insert the SD Card into your Wii U</li>
						<li>Select the Haxchi app on your Wii U. Hold A or B to use custom firmware, then go to "WUP Installer"</li>
						<li>Select the name of your hack, and click "Install"</li>
						<li>Select NAND</li>
						<li>Go back to the Wii U Menu to run the injected hack</li>
					</ol>

					<strong>Video Tutorial by EmoArbiter:</strong>
					<div class="ytcontainer">
						<iframe width="560" height="315" src="https://www.youtube.com/embed/h6Ta6cAFzEc" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
					</div>
				</div>
			</div>
			<div class="treebox hide" tree-id="support">
				<div class="flexsplitter">
					<div style="flex:50%">
						<h2 class="treebox_head">Support</h2>
					</div>
					<div style="flex:50%;text-align: right;">
						<link-button>
							<button class="link_button" onmouseover="toggleImage(this,true)" onmouseleave="toggleImage(this,false)">
								<img src="./Site/assets/link.png" height="20px">
							</button>
						</link-button>
					</div>
				</div>
				<div class="treebox_body">
					If you need any additional support in setting up the Practice ROM on your console or platform of choice, then it is advised that you join the Donkey Kong 64 speedrunning discord and post your problem in the <span class="highlight">#practice-rom</span> channel.
					<uL>
						<li><a class="excluded_link hovergold underline" href="https://discord.gg/955MmbtQBP">Donkey Kong 64 Discord</a></li>
					</uL>
					To assist us as much as possible, please mention the following in your post:
					<ul>
						<li>What platform are you trying to set up the Practice ROM on (Wii U, Nintendo 64, Emulator).</li>
						<li>What problem you are experiencing.</li>
						<ul>
							<li>If it is a bug report, please list the steps you performed to cause the bug</li>
						</ul>
						<li>What patching method (Beat, Lunar, Web Patcher) & version of the Practice ROM you are trying to use.</li>
					</ul>
				</div>
			</div>
			<div class="treebox hide" tree-id="ts_wiiu">
				<div class="flexsplitter">
					<div style="flex:50%">
						<h2 class="treebox_head">Troubleshooting (Wii U VC)</h2>
					</div>
					<div style="flex:50%;text-align: right;">
						<link-button>
							<button class="link_button" onmouseover="toggleImage(this,true)" onmouseleave="toggleImage(this,false)">
								<img src="./Site/assets/link.png" height="20px">
							</button>
						</link-button>
					</div>
				</div>
				<div class="treebox_body">
					Here are some common problems that you may experience:<br><br>
					<table class="bordertable">
						<tr>
							<th>
								Problem
							</th>
							<th>
								Solution
							</th>
						</tr>
						<tbody class="general_ts"></tbody>
						<tr>
							<td>
								Glitchy camera and/or
								very frequent crashes
							</td>
							<td>
								Missing config file: <a class="excluded_link hovergold underline" href="https://youtu.be/h6Ta6cAFzEc&t=3m50s">Guide</a>
							</td>
						</tr>
						<tr>
							<td>
								Failed injection
							</td>
							<td>
								Missing common key
							</td>
						</tr>
					</table>
				</div>
			</div>
			<div class="treebox hide" tree-id="ts_n64">
				<div class="flexsplitter">
					<div style="flex:50%">
						<h2 class="treebox_head">Troubleshooting (Nintendo 64)</h2>
					</div>
					<div style="flex:50%;text-align: right;">
						<link-button>
							<button class="link_button" onmouseover="toggleImage(this,true)" onmouseleave="toggleImage(this,false)">
								<img src="./Site/assets/link.png" height="20px">
							</button>
						</link-button>
					</div>
				</div>
				<div class="treebox_body">
					Here are some common problems that you may experience:<br><br>
					<table class="bordertable">
						<tr>
							<th>
								Problem
							</th>
							<th>
								Solution
							</th>
						</tr>
						<tbody class="general_ts"></tbody>
						<tr>
							<td>
								The game is crashing a lot randomly
							</td>
							<td>
								Update your Everdrive OS and make sure that your Everdrive OS correlates with the Everdrive cart version you have.
							</td>
						</tr>
					</table>
				</div>
			</div>
			<div class="treebox hide" tree-id="ts_emu">
				<div class="flexsplitter">
					<div style="flex:50%">
						<h2 class="treebox_head">Troubleshooting (Emulator)</h2>
					</div>
					<div style="flex:50%;text-align: right;">
						<link-button>
							<button class="link_button" onmouseover="toggleImage(this,true)" onmouseleave="toggleImage(this,false)">
								<img src="./Site/assets/link.png" height="20px">
							</button>
						</link-button>
					</div>
				</div>
				<div class="treebox_body">
					Here are some common problems that you may experience:<br><br>
					<div class="tab">
						<button class="tablinks active" onclick="openEmuTab(event, 'ts_emu_bizhawk')">BizHawk</button>
						<button class="tablinks" onclick="openEmuTab(event, 'ts_emu_pj64')">Project64</button>
					</div>
					<div id="ts_emu_bizhawk" class="tabcontent" style="display:block">
						<table class="bordertable">
							<tr>
								<th>
									Problem
								</th>
								<th>
									Solution
								</th>
							</tr>
							<tbody class="general_ts"></tbody>
							<tr>
								<td>
									Game isn't saving and/or polygon tearing (aka 'Graphical Spiking') is occurring
								</td>
								<td>
									You are not using the DK64-specific build of BizHawk
								</td>
							</tr>
							<tr>
								<td>
									Game is rendering translucency as fully opaque
								</td>
								<td>
									Change your video plugin to GlideN64
								</td>
							</tr>
						</table>
					</div>
					<div id="ts_emu_pj64" class="tabcontent">
						<table class="bordertable">
							<tr>
								<th>
									Problem
								</th>
								<th>
									Solution
								</th>
							</tr>
							<tbody class="general_ts"></tbody>
							<tr>
								<td>
									Game isn't saving
								</td>
								<td>
									Set "Default Save Type" to 16-kbit EEPROM
								</td>
							</tr>
							<tr>
								<td>
									The DK Rap isn't being skipped/Console menu isn't appearing
								</td>
								<td>
									Uncheck "Advanced Block Linking"
								</td>
							</tr>
							<tr>
								<td>
									Game is warping me out randomly
								</td>
								<td>
									Uncheck "32-bit engine"
								</td>
							</tr>
							<tr>
								<td>
									Game is rendering translucency as fully opaque
								</td>
								<td>
									Change your video plugin to GlideN64
								</td>
							</tr>
							<tr>
								<td>
									Polygon tearing (aka 'Graphical Spiking') is occurring
								</td>
								<td>
									The version of Project64 you are using pre-dates any fixes for this emulation bug because it is too old. Update to version 3.0 or higher
								</td>
							</tr>
							<tr>
								<td>
									Unhandled R4300i opcode error
								</td>
								<td>
									The version of Project64 you are using is too old to work for DK64 hacks. Update to version 3.0 or higher
								</td>
							</tr>
						</table>
					</div>
				</div>
			</div>
		</div>
	</div>
	<script src="./Site/script/nav.js"></script>
	<script src="./Site/script/tree.js"></script>
	<script>
		function treeshow(treeid) {
			if (treeid == "latest") {
				var versions = document.getElementsByClassName("isversion")
				var versionFunc = versions[0].getAttribute("onclick");
				var versionFuncArray = versionFunc.split("'");
				treeid = versionFuncArray[1];
			}
			var treeboxes = document.getElementsByClassName("treebox")
			var t;

			for (t = 0; t < treeboxes.length; t++) {
				var found_treeid = treeboxes[t].getAttribute("tree-id")
				if (found_treeid == treeid) {
					treeboxes[t].classList.remove("hide")
					window.history.replaceState(null, null, "?guide=" + found_treeid)
				} else {
					treeboxes[t].classList.add("hide")
				}
			}
		}

		function goTo(url) {
			window.location.href = url;
		}

		function copyToClipboard(text) {
		    var dummy = document.createElement("textarea");
		    document.body.appendChild(dummy);
		    dummy.value = text;
		    dummy.select();
		    document.execCommand("copy");
		    document.body.removeChild(dummy);
		}

		function getLink(param) {
			window.history.replaceState(null, null, param)
			copyToClipboard(window.location.origin + window.location.pathname + param)
		}

		function goThroughParams() {
			var queryString = window.location.search;
			const urlParams = new URLSearchParams(queryString)
			const detected_guide = urlParams.get("guide");
			console.log("Detected Guide: " + detected_guide)
			var treeboxes = document.getElementsByClassName("treebox")
			var t;
			var version = "";

			for (t = 0; t < treeboxes.length; t++) {
				treeid = treeboxes[t].getAttribute("tree-id")
				if (treeid == detected_guide) {
					treeboxes[t].classList.remove("hide")
				} else {
					treeboxes[t].classList.add("hide")
				}
			}
		}
		goThroughParams();

		function toggleImage(el,hover) {
			var img_node = el.getElementsByTagName("img")[0]
			var new_img = "./Site/assets/link.png";
			if (hover) {
				new_img = "./Site/assets/link_black.png"
			}
			img_node.setAttribute("src",new_img)
		}

		function editButtonClickEvent() {
			var treeboxes = document.getElementsByClassName("treebox")
			var t;
			var version = "";

			for (t = 0; t < treeboxes.length; t++) {
				found_guide = treeboxes[t].getAttribute("tree-id")
				var link_button = treeboxes[t].getElementsByTagName("link-button")[0]
				link_button.childNodes[1].setAttribute("onclick","getLink('" + "?guide=" + found_guide + "')");
			}
		}

		function generalTSUpdate() {
			var ts_items = [
				{
					"problem": "Cannot create patched ROM",
					"solution": "Your input ROM is different to a good Retail DK64 .z64 ROM. To check this, use the <a class='excluded_link hovergold underline' href='/tools/rom_checker'>ROM Checker</a>.<p>"
				}
			]
			var body_hook = document.getElementsByTagName("body")[0]
			var container_div = document.createElement("div")
			container_div.setAttribute("id","delete_me_please")
			ts_items.forEach(item => {
				var container_tr = document.createElement("tr")
				var prob_td = document.createElement("td")
				var prob_tx = document.createTextNode(item.problem)
				prob_td.classList.add("html_convert")
				var solu_td = document.createElement("td")
				var solu_tx = document.createTextNode(item.solution)
				solu_td.classList.add("html_convert")
				prob_td.appendChild(prob_tx)
				container_tr.appendChild(prob_td)
				solu_td.appendChild(solu_tx)
				container_tr.appendChild(solu_td)
				container_div.appendChild(container_tr)
			})
			body_hook.appendChild(container_div)
			var conv_hook = document.getElementsByClassName("html_convert")
			for (let c = 0; c < conv_hook.length; c++) {
				conv_hook[c].innerHTML = conv_hook[c].innerText;
			}
			var gen_hook = document.getElementsByClassName("general_ts")
			var data_hook = document.getElementById("delete_me_please")
			for (let g = 0; g < gen_hook.length; g++) {
				gen_hook[g].innerHTML = data_hook.innerHTML;
			}
			data_hook.remove()
		}

		function openEmuTab(evt, id_) {
			var tabcontent = document.getElementsByClassName("tabcontent")
			for (let t = 0; t < tabcontent.length; t++) {
				tabcontent[t].style.display = "none";
			}
			var tablinks = document.getElementsByClassName("tablinks")
			for (let t = 0; t < tablinks.length; t++) {
				tablinks[t].classList.remove("active")
			}
			document.getElementById(id_).style.display = "block";
			evt.currentTarget.classList.add("active")
		}

		function updateText() {
			var possess_spans = document.getElementsByClassName("rom_possess")
			for (let p = 0; p < possess_spans.length; p++) {
				possess_spans[p].innerText = "You will need to possess a vanilla Donkey Kong 64 ROM."
			}
			var pre_li = document.getElementsByClassName("rom_hash_pre")
			for (let p = 0; p < pre_li.length; p++) {
				pre_li[p].innerText = "The ROM will need to have one of the following ROM Hashes:"
			}
			var pre_ul = document.getElementsByClassName("rom_hash_list")
			for (let p = 0; p < pre_ul.length; p++) {
				var hook = pre_ul[p];
				var ver_hash = [
					{
						"name":"US (NTSC-U)",
						"hash":"CF806FF2603640A748FCA5026DED28802F1F4A50",
					},
					{
						"name":"Europe/Australia (PAL)",
						"hash":"F96AF883845308106600D84E0618C1A066DC6676",
					},
					{
						"name":"Japanese (NTSC-J)",
						"hash":"F0AD2B2BBF04D574ED7AFBB1BB6A4F0511DCD87D"
					}

				];
				ver_hash.forEach(ver => {
					var name_el = document.createElement("strong")
					var name_st = document.createTextNode(ver.name + ": ")
					var hash_el = document.createElement("span")
					var hash_st = document.createTextNode(ver.hash)
					hash_el.classList.add("highlight")
					var li = document.createElement("li")
					name_el.appendChild(name_st)
					hash_el.appendChild(hash_st)
					li.appendChild(name_el)
					li.appendChild(hash_el)
					hook.appendChild(li)
				})
			}
			var hash_post = document.getElementsByClassName("rom_hash_post")
			for (let h = 0; h < hash_post.length; h++) {
				hash_post[h].innerText = "The kiosk demo (Also known as the 'NFR'/'Not for Resale' version) is not supported for the Practice ROM.";
			}
		}
		generalTSUpdate();
		editButtonClickEvent();
		updateText();
	</script>
</body>
</html>